"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3426],{3426:(F,d,l)=>{l.r(d),l.d(d,{ConfirmationPageModule:()=>_});var p=l(177),f=l(4341),o=l(4742),s=l(70),e=l(4438);function g(n,r){if(1&n){const a=e.RV6();e.j41(0,"div",16),e.nrm(1,"img",17),e.j41(2,"p",18),e.EFF(3,"UPI ID: 9905893255@sliceaxis"),e.k0s(),e.j41(4,"p",19),e.EFF(5),e.k0s(),e.j41(6,"ion-item")(7,"ion-label"),e.EFF(8,"Upload Confirmation Screenshot"),e.k0s(),e.j41(9,"input",20),e.bIt("change",function(t){e.eBV(a);const c=e.XpG();return e.Njj(c.handleScreenshotUpload(t))}),e.k0s()()()}if(2&n){const a=e.XpG();e.R7$(5),e.SpI("Amount: ",a.totalPrice,"")}}function u(n,r){1&n&&(e.j41(0,"p",24),e.EFF(1," Insufficient wallet balance. Please add funds to proceed. "),e.k0s())}function h(n,r){if(1&n){const a=e.RV6();e.j41(0,"ion-button",25),e.bIt("click",function(){e.eBV(a);const t=e.XpG(2);return e.Njj(t.redirectToWalletPage())}),e.EFF(1," Add Funds "),e.k0s()}}function P(n,r){if(1&n&&(e.j41(0,"div",21)(1,"p"),e.EFF(2),e.k0s(),e.DNE(3,u,2,0,"p",22)(4,h,2,0,"ion-button",23),e.k0s()),2&n){const a=e.XpG();e.R7$(2),e.SpI("Your Wallet Balance: \u20b9",a.walletBalance,""),e.R7$(),e.Y8G("ngIf",a.isWalletInsufficient),e.R7$(),e.Y8G("ngIf",a.isWalletInsufficient)}}const k=[{path:"",component:(()=>{var n;class r{constructor(i,t){this.route=i,this.router=t,this.carName="",this.carPrice="",this.carDescription="",this.carImage="",this.pickUpDateTime="",this.dropOffDateTime="",this.totalDays=0,this.totalPrice="",this.selectedPaymentMode="",this.confirmationScreenshot=null,this.walletBalance=15200,this.isWalletInsufficient=!1}ngOnInit(){this.route.queryParams.subscribe(i=>{this.carName=i.carName||"",this.carPrice=i.carPrice||"",this.carDescription=i.carDescription||"",this.carImage=i.carImage||"",this.pickUpDateTime=i.pickUpDateTime||"",this.dropOffDateTime=i.dropOffDateTime||"",this.pickUpDateTime&&this.dropOffDateTime&&this.calculateTotalPrice()})}calculateTotalPrice(){const i=new Date(this.pickUpDateTime),t=new Date(this.dropOffDateTime),c=Math.abs(t.getTime()-i.getTime());this.totalDays=Math.ceil(c/864e5);const b=1e3*parseInt(this.carPrice.replace("k/day",""))*this.totalDays;this.totalPrice=`${b.toLocaleString()} INR`,this.checkWalletBalance()}checkWalletBalance(){const i=parseInt(this.totalPrice.replace(" INR","").replace(",",""));this.isWalletInsufficient=this.walletBalance<i}handleScreenshotUpload(i){const t=i.target;t.files&&t.files.length>0&&(this.confirmationScreenshot=t.files[0])}redirectToWalletPage(){this.router.navigate(["/wallet"])}confirmBooking(){"Cash"===this.selectedPaymentMode?this.saveBooking():"UPI"===this.selectedPaymentMode?this.confirmationScreenshot?this.saveBooking():alert("Please upload the UPI payment confirmation screenshot."):"Wallet"===this.selectedPaymentMode?this.walletBalance>=parseInt(this.totalPrice.replace(" INR","").replace(",",""))?(this.walletBalance-=parseInt(this.totalPrice.replace(" INR","").replace(",","")),this.saveBooking()):alert("Insufficient wallet balance."):alert("Please select a payment mode.")}saveBooking(){const i={carName:this.carName,carPrice:this.carPrice,pickUpDateTime:this.pickUpDateTime,dropOffDateTime:this.dropOffDateTime,totalPrice:this.totalPrice},t=JSON.parse(localStorage.getItem("recentBookings")||"[]");t.push(i),localStorage.setItem("recentBookings",JSON.stringify(t)),alert("Booking Confirmed!"),this.router.navigate(["/booking"],{queryParams:{recentBooking:!0}})}}return(n=r).\u0275fac=function(i){return new(i||n)(e.rXU(s.nX),e.rXU(s.Ix))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-confirmation"]],decls:61,vars:13,consts:[["slot","start"],["defaultHref","/tabs/home",3,"click"],["fullscreen","",1,"confirmation-content"],[1,"overlay"],[3,"src","alt"],["slot","end"],[3,"ngModelChange","ngModel"],["name","card-outline","slot","start"],["slot","end","value","UPI"],["name","cash-outline","slot","start"],["slot","end","value","Cash"],["name","wallet-outline","slot","start"],["slot","end","value","Wallet"],["class","upi-section",4,"ngIf"],["class","wallet-section",4,"ngIf"],["expand","full","color","primary",3,"click","disabled"],[1,"upi-section"],["src","../../assets/QR Code.jpg","alt","UPI QR Code",1,"upi-qr"],[1,"upi-id"],[1,"upi-amount"],["type","file",3,"change"],[1,"wallet-section"],["class","error",4,"ngIf"],["color","primary","expand","block",3,"click",4,"ngIf"],[1,"error"],["color","primary","expand","block",3,"click"]],template:function(i,t){1&i&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-back-button",1),e.bIt("click",function(){return t.goToHome()}),e.k0s()(),e.j41(4,"ion-title"),e.EFF(5,"Booking Confirmation"),e.k0s()()(),e.j41(6,"ion-content",2),e.nrm(7,"div",3),e.j41(8,"ion-card"),e.nrm(9,"img",4),e.j41(10,"ion-card-header")(11,"ion-card-title"),e.EFF(12),e.k0s(),e.j41(13,"ion-card-subtitle"),e.EFF(14),e.k0s()(),e.j41(15,"ion-card-content")(16,"p"),e.EFF(17),e.k0s(),e.j41(18,"ion-item")(19,"ion-label"),e.EFF(20,"Pick-up Date and Time"),e.k0s(),e.j41(21,"ion-note",5),e.EFF(22),e.k0s()(),e.j41(23,"ion-item")(24,"ion-label"),e.EFF(25,"Drop-off Date and Time"),e.k0s(),e.j41(26,"ion-note",5),e.EFF(27),e.k0s()(),e.j41(28,"ion-item")(29,"ion-label"),e.EFF(30,"Total Days"),e.k0s(),e.j41(31,"ion-note",5),e.EFF(32),e.k0s()(),e.j41(33,"ion-item")(34,"ion-label"),e.EFF(35,"Total Price"),e.k0s(),e.j41(36,"ion-note",5),e.EFF(37),e.k0s()(),e.j41(38,"ion-radio-group",6),e.mxI("ngModelChange",function(m){return e.DH7(t.selectedPaymentMode,m)||(t.selectedPaymentMode=m),m}),e.j41(39,"ion-list-header")(40,"ion-label"),e.EFF(41,"Select Payment Mode"),e.k0s()(),e.j41(42,"ion-item"),e.nrm(43,"ion-icon",7),e.j41(44,"ion-label"),e.EFF(45,"UPI"),e.k0s(),e.nrm(46,"ion-radio",8),e.k0s(),e.j41(47,"ion-item"),e.nrm(48,"ion-icon",9),e.j41(49,"ion-label"),e.EFF(50,"Cash"),e.k0s(),e.nrm(51,"ion-radio",10),e.k0s(),e.j41(52,"ion-item"),e.nrm(53,"ion-icon",11),e.j41(54,"ion-label"),e.EFF(55,"Wallet"),e.k0s(),e.nrm(56,"ion-radio",12),e.k0s()(),e.DNE(57,g,10,1,"div",13)(58,P,5,3,"div",14),e.j41(59,"ion-button",15),e.bIt("click",function(){return t.confirmBooking()}),e.EFF(60," Confirm Booking "),e.k0s()()()()),2&i&&(e.R7$(9),e.FS9("alt",t.carName),e.Y8G("src",t.carImage,e.B4B),e.R7$(3),e.JRh(t.carName),e.R7$(2),e.JRh(t.carPrice),e.R7$(3),e.JRh(t.carDescription),e.R7$(5),e.JRh(t.pickUpDateTime),e.R7$(5),e.JRh(t.dropOffDateTime),e.R7$(5),e.JRh(t.totalDays),e.R7$(5),e.JRh(t.totalPrice),e.R7$(),e.R50("ngModel",t.selectedPaymentMode),e.R7$(19),e.Y8G("ngIf","UPI"===t.selectedPaymentMode),e.R7$(),e.Y8G("ngIf","Wallet"===t.selectedPaymentMode),e.R7$(),e.Y8G("disabled",t.isWalletInsufficient&&"Wallet"===t.selectedPaymentMode))},dependencies:[p.bT,f.BC,f.vS,o.Jm,o.QW,o.b_,o.I9,o.ME,o.HW,o.tN,o.W9,o.eU,o.iq,o.uz,o.he,o.AF,o.JI,o.KO,o.f0,o.BC,o.ai,o.Je,o.el],styles:['.confirmation-content[_ngcontent-%COMP%]{--background: none;background-image:url("BG1 (3).577e0a960d98265b.jpeg");background-size:cover;background-position:center;position:relative}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1}ion-card[_ngcontent-%COMP%]{z-index:2;background:#000000e6;margin-top:50px}ion-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:8px}ion-card-title[_ngcontent-%COMP%], ion-card-subtitle[_ngcontent-%COMP%]{text-align:center;color:#fff}ion-button[_ngcontent-%COMP%]{margin-top:20px;--background: #000000;--background-hover: #0e0e0e}.upi-section[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.upi-qr[_ngcontent-%COMP%]{max-width:150px;margin:10px auto}.upi-id[_ngcontent-%COMP%], .upi-amount[_ngcontent-%COMP%]{color:#fff;font-size:16px;margin:5px 0}.wallet-section[_ngcontent-%COMP%]{margin-top:20px;text-align:center;color:#fff}.wallet-section[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-weight:700}']}),r})()}];let C=(()=>{var n;class r{}return(n=r).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[s.iI.forChild(k),s.iI]}),r})(),_=(()=>{var n;class r{}return(n=r).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[p.MD,f.YN,o.bv,C]}),r})()}}]);